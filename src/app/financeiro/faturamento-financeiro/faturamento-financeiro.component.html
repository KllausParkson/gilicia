<ion-grid mode="md" style="height: auto">
  <ion-row class="ion-justify-content-center">
    <ion-col size-xs="12" size-sm="10" size-md="7" size-lg="6" size-xl="5">
      <ion-row class="ion-justify-content-center">
        <ion-col size="12">
          <ion-card class="ion-no-padding backgroundCard">
            <app-data-toolbar
              [startDate]="startDate"
              [endDate]="endDate"
              (dateEmmiter)="receiveDate($event)"
            ></app-data-toolbar>
          </ion-card>
        </ion-col>
      </ion-row>
      <ion-row class="ion-justify-content-center cards" style="font-size: larger;">
        <ion-col size="8">
          <ion-row>
            <ion-col class="card-title backgroundButtonApp">
              {{ 'FINANCEIRO.FATURAMENTO.FATURADO' | translate}}
            </ion-col>
          </ion-row>
          <ion-row class="ion-align-items-center">
            <ion-col class="card-value backgroundButtonApp">
              {{faturamento != undefined ? (faturamento.totalFaturamentoGeral | currencyGlobal) : (0 | currencyGlobal)}}
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
      <ion-card class="backgroundCard">
        <ion-card-content >
          <ion-row style="font-size: medium; color: var(--ion-color-primary);" [ngStyle]="{'cursor': (faturamento?.clientes?.length != 0 ? 'pointer' : 'auto')}" (click)="atendimentosDetalhes=!atendimentosDetalhes">
            <ion-col>
              <ion-row class="ion-justify-content-start">
                {{ 'FINANCEIRO.FATURAMENTO.EXTRATO.ATENDIMENTOS' | translate }}
              </ion-row>
            </ion-col>
            <ion-col>
              <ion-row class="ion-justify-content-end">
                {{faturamento != undefined ? faturamento.totalAtendimentos : 0}}
                <ion-icon *ngIf="faturamento?.clientes?.length != 0" [name]="atendimentosDetalhes ? 'chevron-up-outline' : 'chevron-down-outline'" class="icon"></ion-icon>
                <ion-icon *ngIf="!(faturamento?.clientes?.length != 0)" class="icon"></ion-icon>
              </ion-row>
            </ion-col>
          </ion-row>
          <ion-row *ngIf="faturamento?.clientes?.length != 0 && atendimentosDetalhes">
            <ion-col>
              <div *ngFor="let atendimento of faturamento.clientes;">
                <ion-row style="color: black;">
                  <ion-col size="7">
                    <ion-row class="ion-justify-content-start colorTextApp">
                      {{ getNomeSobrenome(atendimento.nomeCliente) }}
                    </ion-row>
                  </ion-col>
                  <ion-col size="5">
                    <ion-row class="ion-justify-content-end colorTextApp">
                      {{ atendimento.quantidadeAtendimentos }}
                    </ion-row>
                  </ion-col>
                </ion-row>
                <div class="one-line"></div>
              </div>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>
      <ion-card class="backgroundCard">
        <ion-card-content>
          <ion-row style="font-size: medium; color: var(--ion-color-primary);">
            <ion-col>
              <ion-row class="ion-justify-content-start">
                {{ 'FINANCEIRO.FATURAMENTO.TICKETMEDIO' | translate }}
              </ion-row>
            </ion-col>
            <ion-col>
              <ion-row class="ion-justify-content-end">
                {{faturamento != undefined ? (faturamento.ticketMedio | currencyGlobal) : (0 | currencyGlobal)}}
                <ion-icon class="icon"></ion-icon>
              </ion-row>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>
      <ion-card class="backgroundCard">
        <ion-card-content>
          <ion-row style="font-size: medium; color: var(--ion-color-primary);" [ngStyle]="{'cursor': (faturamento?.servicos?.length != 0 ? 'pointer' : 'auto')}" (click)="servicosDetalhes=!servicosDetalhes">
            <ion-col>
              <ion-row class="ion-justify-content-start">
                {{ 'FINANCEIRO.FATURAMENTO.EXTRATO.SERVICOS' | translate }}
              </ion-row>
            </ion-col>
            <ion-col>
              <ion-row class="ion-justify-content-end">
                {{faturamento != undefined ? (faturamento.totalFaturamentoServicos | currencyGlobal) : (0 | currencyGlobal)}}
                <ion-icon *ngIf="faturamento?.servicos?.length != 0" [name]="servicosDetalhes ? 'chevron-up-outline' : 'chevron-down-outline'" class="icon"></ion-icon>
                <ion-icon *ngIf="!(faturamento?.servicos?.length != 0)" class="icon"></ion-icon>
              </ion-row>
            </ion-col>
          </ion-row>
          <ion-row *ngIf="faturamento?.servicos?.length != 0 && servicosDetalhes">
            <ion-col>
              <div *ngFor="let servico of faturamento.servicos;">
                <ion-row style="color: var(--ion-color-primary)">
                  <ion-col size="7">
                    <ion-row class="ion-justify-content-start">
                      {{ servico.nomeServico }}
                    </ion-row>
                  </ion-col>
                  <ion-col size="5">
                    <ion-row class="ion-justify-content-end">
                      {{ servico.precoFaturadoTotal | currencyGlobal }}
                    </ion-row>
                  </ion-col>
                </ion-row>
                <ion-row style="font-size: small;">
                  <ion-col size="7">
                    <ion-row class="ion-justify-content-start colorTextApp">
                      {{ 'FINANCEIRO.FATURAMENTO.EXTRATO.DETALHES.QUANTIDADE' | translate }}: {{ servico.quantidadeVendida }}
                    </ion-row>
                  </ion-col>
                </ion-row>
                <div class="one-line"></div>
              </div>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>
      <ion-card class="backgroundCard">
        <ion-card-content>
          <ion-row style="font-size: medium; color: var(--ion-color-primary);" [ngStyle]="{'cursor': (faturamento?.produtos?.length != 0 ? 'pointer' : 'auto')}" (click)="produtosDetalhes=!produtosDetalhes">
            <ion-col>
              <ion-row class="ion-justify-content-start colorTextApp">
                {{ 'FINANCEIRO.FATURAMENTO.EXTRATO.PRODUTOS' | translate }}
              </ion-row>
            </ion-col>
            <ion-col>
              <ion-row class="ion-justify-content-end colorTextApp">
                {{faturamento != undefined ? (faturamento.totalFaturamentoProdutos | currencyGlobal) : (0 | currencyGlobal)}}
                <ion-icon *ngIf="faturamento?.produtos?.length != 0" [name]="produtosDetalhes ? 'chevron-up-outline' : 'chevron-down-outline'" class="icon"></ion-icon>
                <ion-icon *ngIf="!(faturamento?.produtos?.length != 0)" class="icon"></ion-icon>
              </ion-row>
            </ion-col>
          </ion-row>
          <ion-row *ngIf="faturamento?.produtos?.length != 0 && produtosDetalhes">
            <ion-col>
              <div *ngFor="let produto of faturamento.produtos;">
                <ion-row style="color: var(--ion-color-primary)">
                  <ion-col size="7">
                    <ion-row class="ion-justify-content-start">
                      {{ produto.nomeProduto }}
                    </ion-row>
                  </ion-col>
                  <ion-col size="5">
                    <ion-row class="ion-justify-content-end">
                      {{ produto.precoFaturadoTotal | currencyGlobal }}
                    </ion-row>
                  </ion-col>
                </ion-row>
                <ion-row style="font-size: small;">
                  <ion-col size="7">
                    <ion-row class="ion-justify-content-start colorTextApp">
                      {{ 'FINANCEIRO.FATURAMENTO.EXTRATO.DETALHES.QUANTIDADE' | translate }}: {{ produto.quantidadeVendida }}
                    </ion-row>
                  </ion-col>
                </ion-row>
                <div class="one-line"></div>
              </div>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>
