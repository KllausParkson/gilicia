<ion-header>
  <ng-container [ngSwitch]="segment">
    <ion-toolbar
      fixed
      *ngSwitchCase="'editar'"
      style="padding-top: 0 !important"
    >
      <ion-title style="color: var(--cor-texto-barraTopo)">{{
        "PERFIL.MODALEDITAR.TITLECONFIRMAR" | translate
      }}</ion-title>
      <ion-buttons slot="primary">
        <ion-button (click)="closeModal()">
          <ion-icon
            name="close"
            slot="icon-only"
            style="transform: scale(1.5); color: var(--cor-texto-barraTopo)"
          ></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
    <ion-toolbar *ngSwitchCase="'senha'">
      <ion-title style="color: var(--cor-texto-barraTopo)">{{
        "PERFIL.MODALEDITAR.ALTERARSENHA" | translate
      }}</ion-title>
      <ion-buttons slot="primary">
        <ion-button (click)="closeModal()">
          <ion-icon
            name="close"
            slot="icon-only"
            style="transform: scale(1.5); color: var(--cor-texto-barraTopo)"
          ></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ng-container>
</ion-header>
<ion-content scrollY="false">
  <ng-container [ngSwitch]="segment">
    <ion-grid fixed *ngSwitchCase="'editar'">
      <form [formGroup]="perfilForm">
        <ion-row>
          <ion-col size="12">
            <ion-row class="ion-justify-content-end colorTextApp">
              <ion-col
                class="ion-text-end ion-align-itens-center"
                style="font-size: 13px"
                size="6"
              >
                <ion-label style="color: red"
                  >*{{
                    "PERFIL.MODALEDITAR.REQUIREDFIELDS" | translate
                  }}</ion-label
                >
              </ion-col>
            </ion-row>
            <kendo-floatinglabel
              text="{{ 'PERFIL.MODALEDITAR.NOME' | translate }}*"
            >
              <input formControlName="nomeCompleto" kendoTextBox type="text" />
            </kendo-floatinglabel>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12">
            <kendo-floatinglabel
              text="{{ 'PERFIL.MODALEDITAR.EMAIL' | translate }}*"
            >
              <input formControlName="email" kendoTextBox type="emial" />
            </kendo-floatinglabel>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12">
            <kendo-floatinglabel
              text="{{ 'PERFIL.MODALEDITAR.CELULAR' | translate }}*"
            >
              <input
                formControlName="celular"
                kendoTextBox
                type="tel"
                (input)="setMask($event)"
                maxlength="20"
              />
            </kendo-floatinglabel>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12">
            <kendo-floatinglabel
              text="{{ 'PERFIL.MODALEDITAR.ANIVERSARIO' | translate }}"
            >
              <kendo-datepicker
                formControlName="aniversario"
                style="border: none; background-color: var(--background-color-geral);"
              ></kendo-datepicker>
            </kendo-floatinglabel>
          </ion-col>
        </ion-row>
      </form>
      <ion-row
        class="ion-justify-content-center"
        style="padding: 3% 0% 3% 0%; text-align: center"
      >
        <ion-col size="12">
          <ion-text class="text-descriçao">
            {{ "PERFIL.MODALEDITAR.TEXTALTERAR" | translate }}
          </ion-text>
          <ion-text class="text-senha" (click)="editarSenha()">
            {{ "PERFIL.MODALEDITAR.CLIQUEAQUI" | translate }}
          </ion-text>
        </ion-col>
      </ion-row>
      <ion-row class="ion-justify-content-center"style="padding: 3% 0% 3% 0%; text-align: center">
        <ion-col size="12">
          <ion-text class="text-descriçao">
            {{ "PERFIL.MODALEDITAR.EXCLUIRCONTA" | translate }}
          </ion-text>
          <ion-text class="text-senha" (click)="excluirConta()">
            {{ "PERFIL.MODALEDITAR.CLIQUEAQUI" | translate }}
          </ion-text>
        </ion-col>
      </ion-row>

    </ion-grid>
    <ion-grid *ngSwitchCase="'senha'">
      <ion-row class="linha">
        <!-- <ion-icon name="information-circle-outline" (click)="exibeNome()" class="icon-senha"></ion-icon> -->
        <ion-col class="show" size="12" *ngIf="gatilhoSenha == false">
          <kendo-floatinglabel
            text="{{ 'PERFIL.MODALEDITAR.SENHAATUAL' | translate }}"
          >
            <input
              [(ngModel)]="senhaAntiga"
              kendoTextBox
              class="input-password"
              type="{{ showPassword ? 'text' : 'password' }}"
              maxlength="20"
              style="width: 97% !important"
            />
            <ion-button
              style="margin-left: -5px; margin-top: -40px !important ;"
              class="ion-align-self-end"
              fill="clear"
              color="medium"
              (click)="changePasswordVisibility()"
            >
              <img
                style="height: 20px"
                *ngIf="!showPassword"
                src="https://oneproducao.blob.core.windows.net/one2/Icones/eye_closed_icon.svg"
              />
              <ion-icon *ngIf="showPassword" name="eye-outline"></ion-icon>
            </ion-button>
          </kendo-floatinglabel>
        </ion-col>
      </ion-row>

      <ion-row
        *ngIf="gatilhoSenha == true"
        style="
          padding: 4%;
          justify-content: left;
          padding-bottom: 0;
          font-size: 14px;
        "
      >
        <span style="color: var(--ion-color-primary)">
          {{ "PERFIL.MODALEDITAR.SENHAPADRAO" | translate }}
        </span>
      </ion-row>

      <ion-row class="linha">
        <ion-col class="show" size="12">
          <kendo-floatinglabel
            text="{{ 'PERFIL.MODALEDITAR.SENHA' | translate }}"
          >
            <input
              [(ngModel)]="novaSenha"
              kendoTextBox
              class="input-password"
              type="{{ showNewPassword ? 'text' : 'password' }}"
              maxlength="20"
              style="width: 97% !important"
            />

            <ion-button
              style="margin-left: -5px; margin-top: -40px !important ;"
              class="ion-align-self-end"
              fill="clear"
              color="medium"
              (click)="changeNewPasswordVisibility()"
            >
              <img
                style="height: 20px"
                *ngIf="!showNewPassword"
                src="https://oneproducao.blob.core.windows.net/one2/Icones/eye_closed_icon.svg"
              />
              <ion-icon *ngIf="showNewPassword" name="eye-outline"></ion-icon>
            </ion-button>
          </kendo-floatinglabel>
        </ion-col>
      </ion-row>
      <ion-row class="linha">
        <ion-col class="show" size="12">
          <kendo-floatinglabel
            text="{{ 'PERFIL.MODALEDITAR.CONFIRMAR' | translate }}"
            ><!--Colocar chaves de Tradução 53-90 -->
            <input
              [(ngModel)]="confirmarSenha"
              kendoTextBox
              class="input-password"
              type="{{ showNewPassword ? 'text' : 'password' }}"
              maxlength="20"
              style="width: 97% !important"
            />

            <ion-button
              style="margin-left: -5px; margin-top: -40px !important ;"
              class="ion-align-self-end"
              fill="clear"
              color="medium"
              (click)="changeNewPasswordVisibility()"
            >
              <img
                style="height: 20px"
                *ngIf="!showNewPassword"
                src="https://oneproducao.blob.core.windows.net/one2/Icones/eye_closed_icon.svg"
              />
              <ion-icon *ngIf="showNewPassword" name="eye-outline"></ion-icon>
            </ion-button>
          </kendo-floatinglabel>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ng-container>
</ion-content>
<ion-footer class="backgroundFooterApp">
  <ng-container [ngSwitch]="segment">
    <ion-row class="global-footer-row">
      <ng-container *ngSwitchCase="'senha'">
        <ion-col size="6" class="global-footer-col-left">
          <ion-button
            type="submit"
            disabled="{{ !perfilForm.valid }}"
            (click)="closeModal()"
            expand="block"
            class="global-back-btn"
          >
            {{ "PERFIL.MODALEDITAR.CANCELAR" | translate }}
          </ion-button>
        </ion-col>
        <ion-col size="6" class="global-footer-col-right">
          <ion-button
            type="submit"
            disabled="{{ !perfilForm.valid || visitanteLogin == 'visitante@onebeleza.com.br' }}"
            (click)="alterarSenha()"
            expand="block"
            class="global-footer-btn"
            style="color: var(--cor-texto-botaoAgendar); --background: var(--cor-fundo-botaoAgendar);"
          >
            {{ "PERFIL.MODALEDITAR.SALVARSENHA" | translate }}
          </ion-button>
        </ion-col>
      </ng-container>
      <ng-container *ngSwitchCase="'editar'">
        <ion-col size="6" class="global-footer-col-left">
          <ion-button
            type="submit"
            color="transparent"
            disabled="{{ !perfilForm.valid }}"
            (click)="closeModal()"
            expand="block"
            class="global-back-btn"
          >
            {{ "PERFIL.MODALEDITAR.CANCELAR" | translate }}
          </ion-button>
        </ion-col>
        <ion-col size="6" class="global-footer-col-right">
          <ion-button
            type="submit"
            disabled="{{ !perfilForm.valid || visitanteLogin == 'visitante@onebeleza.com.br'}}"
            (click)="editar()"
            expand="block"
            class="global-footer-btn"
            style="color: var(--cor-texto-botaoAgendar); --background: var(--cor-fundo-botaoAgendar);"
          >
            {{ "PERFIL.MODALEDITAR.SALVAR" | translate }}
          </ion-button>
        </ion-col>
      </ng-container>
    </ion-row>
  </ng-container>
</ion-footer>
