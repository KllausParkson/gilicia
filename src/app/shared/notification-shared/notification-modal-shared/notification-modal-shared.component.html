<ion-header>
  <ion-toolbar>
    <ion-title style="color: var(--cor-texto-barraTopo)">{{
      "SHARED.NOTIFICACAO.TITLE" | translate
    }}</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="closeModal()">
        <ion-icon
          name="close"
          slot="icon-only"
          style="transform: scale(1.5); color: var(--cor-texto-barraTopo)"
        ></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content #notificationContent [scrollEvents]="true">
  <ion-grid
    [ngStyle]="{
      display: !notifications || notifications?.length == 0 ? 'flex' : ''
    }"
    style="background-color: var(--background-color-geral)"
  >
    <ion-row
      class="ion-align-items-center"
      *ngIf="!notifications || notifications?.length == 0"
    >
      <ion-col class="ion-text-center ion-align-items-center" size="12">
        <span class="colorTextApp"
          >(╥_╥) {{"SHARED.NOTIFICACAO.SEMNOTIFICACOES" | translate}} </span
        ><br />
        <span class="clique" (click)="closeModal()"> {{"SHARED.NOTIFICACAO.AGENDEAGORA" | translate}} </span>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="notifications">
      <ion-col size="12">
        <ion-list class="backgroundApp" *ngFor="let not of notifications; index as index">
          <ion-item-sliding
            *ngIf="index >= notificacoesNovas"
            (ionSwipe)="apagar(not)"
          >
            <ion-item style="place-self: center">
              <div style="background: #e0ccff; border-radius: 10px">
                <ion-row>
                  <ion-col
                    size="2"
                    style="text-align: center; align-self: center"
                  >
                    <ion-icon
                      *ngIf="not.title.indexOf('Avaliação') != -1"
                      class="iconeStyle"
                      name="star-half-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('confirmado') != -1"
                      class="iconeStyle"
                      name="checkmark-done-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('remarcado') != -1"
                      class="iconeStyle"
                      name="hourglass-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('finalizado') != -1"
                      class="iconeStyle"
                      name="hourglass-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('foi marcado') != -1"
                      class="iconeStyle"
                      name="alarm-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('agendou') != -1"
                      class="iconeStyle"
                      name="alarm-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('foi desmarcado') != -1"
                      class="iconeStyle"
                      name="alert-circle-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('presente') != -1"
                      class="iconeStyle"
                      name="man-outline"
                    >
                    </ion-icon>
                  </ion-col>
                  <ion-col size="8">
                    <ion-row>
                      <ion-text>{{ not.title }}</ion-text>
                      <ion-col size="12" (click)="clicavel(not, index)">
                        <ion-label class="item-label">
                          <p>{{ not.mensagem }}</p>
                        </ion-label>
                      </ion-col>
                    </ion-row>
                  </ion-col>
                  <ion-col size="2" style="place-self: center">
                    <ion-label class="item-label">
                      <ion-buttons slot="primary">
                        <ion-button (click)="clearNotificationCache(not)">
                          <ion-icon
                            name="close"
                            slot="icon-only"
                            style="transform: scale(1.5)"
                          ></ion-icon>
                        </ion-button>
                      </ion-buttons>
                    </ion-label>
                  </ion-col>
                </ion-row>
                <!-- <ion-row>
                  <ion-col size="2"></ion-col>
                  <ion-col size="10">
                    <ion-row>
                      <ion-button *ngIf="not.title == 'Cancelamento de agendamento'">
                        Remover da Agenda
                      </ion-button>
                      <ion-button *ngIf="not.title.indexOf('Marcação de horário')!=-1">
                        Incluir na Agenda
                      </ion-button>
                    </ion-row>
                  </ion-col>
                </ion-row> -->
              </div>
            </ion-item>
            <ion-item-options side="start"> </ion-item-options>
          </ion-item-sliding>
          <ion-item-sliding
            *ngIf="index < notificacoesNovas"
            (ionSwipe)="apagar(not)"
          >
            <ion-item style="place-self: center">
              <div style="background: #e0ccff; border-radius: 10px">
                <ion-row>
                  <ion-col
                    size="2"
                    style="text-align: center; align-self: center"
                  >
                    <ion-icon
                      *ngIf="not.title.indexOf('Avaliação') != -1"
                      class="iconeStyle"
                      name="star-half-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('confirmado') != -1"
                      class="iconeStyle"
                      name="checkmark-done-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('remarcado') != -1"
                      class="iconeStyle"
                      name="hourglass-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('finalizado') != -1"
                      class="iconeStyle"
                      name="hourglass-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('foi marcado') != -1"
                      class="iconeStyle"
                      name="alarm-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('agendou') != -1"
                      class="iconeStyle"
                      name="alarm-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('foi desmarcado') != -1"
                      class="iconeStyle"
                      name="alert-circle-outline"
                    >
                    </ion-icon>

                    <ion-icon
                      *ngIf="not.mensagem.indexOf('presente') != -1"
                      class="iconeStyle"
                      name="man-outline"
                    >
                    </ion-icon>
                  </ion-col>
                  <ion-col size="8">
                    <ion-row>
                      <ion-text>{{ not.title }}</ion-text>
                      <ion-col size="12" (click)="clicavel(not, index)">
                        <ion-label class="item-label">
                          <p>{{ not.mensagem }}</p>
                        </ion-label>
                      </ion-col>
                    </ion-row>
                  </ion-col>
                  <ion-col size="2" style="place-self: center">
                    <ion-label class="item-label">
                      <ion-buttons slot="primary">
                        <ion-button (click)="clearNotificationCache(not)">
                          <ion-icon
                            name="close"
                            slot="icon-only"
                            style="transform: scale(1.5)"
                          ></ion-icon>
                        </ion-button>
                      </ion-buttons>
                    </ion-label>
                  </ion-col>
                </ion-row>

                <!-- <ion-row>
                  <ion-col size="2"></ion-col>
                  <ion-col size="10">
                    <ion-row>
                      <ion-button *ngIf="not.title == 'Cancelamento de agendamento'">
                        Remover da Agenda
                      </ion-button>
                      <ion-button *ngIf="not.title.indexOf('Marcação de horário')!=-1">
                        Incluir na Agenda
                      </ion-button>
                    </ion-row>
                  </ion-col>
                </ion-row> -->
              </div>
            </ion-item>
            <ion-item-options side="start"> </ion-item-options>
          </ion-item-sliding>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer class="backgroundFooterApp">
  <ng-container>
    <ion-row class="global-footer-row">
      <ng-container>
        <ion-col size="6" class="global-footer-col-left">
          <ion-button
            type="submit"
            expand="block"
            color="transparent"
            class="btn-secondary"
            (click)="limparNotificacoes()"
          >
            <ion-icon name="trash-outline"></ion-icon>
            <ion-label>{{"SHARED.NOTIFICACAO.LIMPAR" | translate}}
              </ion-label>
          </ion-button>
        </ion-col>
        <ion-col size="6" class="global-footer-col-right">
          <ion-button
            type="submit"
            (click)="closeModal()"
            expand="block"
            class="global-footer-btn"
            style="color: var(--cor-texto-botaoAgendar); --background: var(--cor-fundo-botaoAgendar);"
          >
            {{"SHARED.NOTIFICACAO.FECHAR" | translate}}
          </ion-button>
        </ion-col>
      </ng-container>
    </ion-row>
  </ng-container>
</ion-footer>
